{"ast":null,"code":"var _jsxFileName = \"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/src/components/money-math/NavBar/UserProfile.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from '../../../config/axios';\nimport { setUser } from '../../../actions/userAction';\nimport { setIncomes } from '../../../actions/incomeAction';\nimport { setExpenses } from '../../../actions/expenseAction';\nimport { setBorrows } from '../../../actions/borrowAction';\nimport { setLends } from '../../../actions/lendAction';\nimport { setCategories } from '../../../actions/categoryAction';\n\nfunction UserProfile(props) {\n  const handleLogout = () => {\n    axios.delete('/logout').then(response => {\n      if (response.data === 'logged_out') {\n        localStorage.removeItem('x-auth-moneymath');\n        props.dispatch(setUser({}));\n        props.dispatch(setIncomes({}));\n        props.dispatch(setExpenses({}));\n        props.dispatch(setBorrows({}));\n        props.dispatch(setLends({}));\n        props.dispatch(setCategories({}));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    id: \"NB-user-profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, props.user ? props.user.username ? props.user.username[0].toUpperCase() : '' : ''), React.createElement(\"div\", {\n    id: \"NB-logout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Log out\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(UserProfile);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/moneymath_heroku/client/src/components/money-math/NavBar/UserProfile.js"],"names":["React","connect","axios","setUser","setIncomes","setExpenses","setBorrows","setLends","setCategories","UserProfile","props","handleLogout","delete","then","response","data","localStorage","removeItem","dispatch","catch","err","console","log","user","username","toUpperCase","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,OAAT,QAAwB,6BAAxB;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,SAASC,QAAT,QAAyB,6BAAzB;AACA,SAASC,aAAT,QAA8B,iCAA9B;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB,QAAMC,YAAY,GAAG,MAAM;AACvBT,IAAAA,KAAK,CAACU,MAAN,CAAa,SAAb,EACKC,IADL,CACWC,QAAD,IAAc;AAChB,UAAGA,QAAQ,CAACC,IAAT,KAAkB,YAArB,EAAmC;AAC/BC,QAAAA,YAAY,CAACC,UAAb,CAAwB,kBAAxB;AACAP,QAAAA,KAAK,CAACQ,QAAN,CAAef,OAAO,CAAC,EAAD,CAAtB;AACAO,QAAAA,KAAK,CAACQ,QAAN,CAAed,UAAU,CAAC,EAAD,CAAzB;AACAM,QAAAA,KAAK,CAACQ,QAAN,CAAeb,WAAW,CAAC,EAAD,CAA1B;AACAK,QAAAA,KAAK,CAACQ,QAAN,CAAeZ,UAAU,CAAC,EAAD,CAAzB;AACAI,QAAAA,KAAK,CAACQ,QAAN,CAAeX,QAAQ,CAAC,EAAD,CAAvB;AACAG,QAAAA,KAAK,CAACQ,QAAN,CAAeV,aAAa,CAAC,EAAD,CAA5B;AACH;AACJ,KAXL,EAYKW,KAZL,CAYYC,GAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAdL;AAeH,GAhBD;;AAkBA,SACI;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQV,KAAK,CAACa,IAAN,GAAeb,KAAK,CAACa,IAAN,CAAWC,QAAX,GAAsBd,KAAK,CAACa,IAAN,CAAWC,QAAX,CAAoB,CAApB,EAAuBC,WAAvB,EAAtB,GAA6D,EAA5E,GAAmF,EAA3F,CADJ,EAEI;AAAK,IAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,EAAEd,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAFJ,CADJ;AAQH;;AAED,MAAMe,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHJ,IAAAA,IAAI,EAAEI,KAAK,CAACJ;AADT,GAAP;AAGH,CAJD;;AAMA,eAAetB,OAAO,CAACyB,eAAD,CAAP,CAAyBjB,WAAzB,CAAf","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport axios from '../../../config/axios'\nimport { setUser } from '../../../actions/userAction'\nimport { setIncomes } from '../../../actions/incomeAction'\nimport { setExpenses } from '../../../actions/expenseAction'\nimport { setBorrows } from '../../../actions/borrowAction'\nimport { setLends } from '../../../actions/lendAction'\nimport { setCategories } from '../../../actions/categoryAction'\n\nfunction UserProfile(props) {\n    const handleLogout = () => {\n        axios.delete('/logout')\n            .then((response) => {\n                if(response.data === 'logged_out') {\n                    localStorage.removeItem('x-auth-moneymath')\n                    props.dispatch(setUser({}))\n                    props.dispatch(setIncomes({}))\n                    props.dispatch(setExpenses({}))\n                    props.dispatch(setBorrows({}))\n                    props.dispatch(setLends({}))\n                    props.dispatch(setCategories({}))\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    return (\n        <div id=\"NB-user-profile\">\n            <span>{ props.user ? ( props.user.username ? props.user.username[0].toUpperCase() : '' ) : '' }</span>\n            <div id=\"NB-logout\" >\n                <button onClick={handleLogout} >Log out</button>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user\n    }\n}\n\nexport default connect(mapStateToProps)(UserProfile)"]},"metadata":{},"sourceType":"module"}