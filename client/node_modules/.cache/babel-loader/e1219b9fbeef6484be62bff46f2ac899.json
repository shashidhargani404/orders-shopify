{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import axios from'../../../config/axios';import{setUser}from'../../../actions/userAction';import{setIncomes}from'../../../actions/incomeAction';import{setExpenses}from'../../../actions/expenseAction';import{setBorrows}from'../../../actions/borrowAction';import{setLends}from'../../../actions/lendAction';import{setCategories}from'../../../actions/categoryAction';function UserProfile(props){var handleLogout=function handleLogout(){axios.delete('/logout').then(function(response){if(response.data==='logged_out'){localStorage.removeItem('x-auth-moneymath');props.dispatch(setUser({}));props.dispatch(setIncomes([]));props.dispatch(setExpenses([]));props.dispatch(setBorrows([]));props.dispatch(setLends([]));props.dispatch(setCategories([]));}}).catch(function(err){console.log(err);});};return React.createElement(\"div\",{id:\"NB-user-profile\"},React.createElement(\"span\",null,props.user?props.user.username?props.user.username[0].toUpperCase():'':''),React.createElement(\"div\",{id:\"NB-logout\"},React.createElement(\"button\",{onClick:handleLogout},\"Log out\")));}var mapStateToProps=function mapStateToProps(state){return{user:state.user};};export default connect(mapStateToProps)(UserProfile);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/shopify/client/src/components/money-math/NavBar/UserProfile.js"],"names":["React","connect","axios","setUser","setIncomes","setExpenses","setBorrows","setLends","setCategories","UserProfile","props","handleLogout","delete","then","response","data","localStorage","removeItem","dispatch","catch","err","console","log","user","username","toUpperCase","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,OAASC,OAAT,KAAwB,6BAAxB,CACA,OAASC,UAAT,KAA2B,+BAA3B,CACA,OAASC,WAAT,KAA4B,gCAA5B,CACA,OAASC,UAAT,KAA2B,+BAA3B,CACA,OAASC,QAAT,KAAyB,6BAAzB,CACA,OAASC,aAAT,KAA8B,iCAA9B,CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CACxB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBT,KAAK,CAACU,MAAN,CAAa,SAAb,EACKC,IADL,CACU,SAACC,QAAD,CAAc,CAChB,GAAGA,QAAQ,CAACC,IAAT,GAAkB,YAArB,CAAmC,CAC/BC,YAAY,CAACC,UAAb,CAAwB,kBAAxB,EACAP,KAAK,CAACQ,QAAN,CAAef,OAAO,CAAC,EAAD,CAAtB,EACAO,KAAK,CAACQ,QAAN,CAAed,UAAU,CAAC,EAAD,CAAzB,EACAM,KAAK,CAACQ,QAAN,CAAeb,WAAW,CAAC,EAAD,CAA1B,EACAK,KAAK,CAACQ,QAAN,CAAeZ,UAAU,CAAC,EAAD,CAAzB,EACAI,KAAK,CAACQ,QAAN,CAAeX,QAAQ,CAAC,EAAD,CAAvB,EACAG,KAAK,CAACQ,QAAN,CAAeV,aAAa,CAAC,EAAD,CAA5B,EACH,CACJ,CAXL,EAYKW,KAZL,CAYW,SAACC,GAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAdL,EAeH,CAhBD,CAkBA,MACI,4BAAK,EAAE,CAAC,iBAAR,EACI,gCAAQV,KAAK,CAACa,IAAN,CAAeb,KAAK,CAACa,IAAN,CAAWC,QAAX,CAAsBd,KAAK,CAACa,IAAN,CAAWC,QAAX,CAAoB,CAApB,EAAuBC,WAAvB,EAAtB,CAA6D,EAA5E,CAAmF,EAA3F,CADJ,CAEI,2BAAK,EAAE,CAAC,WAAR,EACI,8BAAQ,OAAO,CAAEd,YAAjB,YADJ,CAFJ,CADJ,CAQH,CAED,GAAMe,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACHJ,IAAI,CAAEI,KAAK,CAACJ,IADT,CAAP,CAGH,CAJD,CAMA,cAAetB,CAAAA,OAAO,CAACyB,eAAD,CAAP,CAAyBjB,WAAzB,CAAf","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport axios from '../../../config/axios'\nimport { setUser } from '../../../actions/userAction'\nimport { setIncomes } from '../../../actions/incomeAction'\nimport { setExpenses } from '../../../actions/expenseAction'\nimport { setBorrows } from '../../../actions/borrowAction'\nimport { setLends } from '../../../actions/lendAction'\nimport { setCategories } from '../../../actions/categoryAction'\n\nfunction UserProfile(props) {\n    const handleLogout = () => {\n        axios.delete('/logout')\n            .then((response) => {\n                if(response.data === 'logged_out') {\n                    localStorage.removeItem('x-auth-moneymath')\n                    props.dispatch(setUser({}))\n                    props.dispatch(setIncomes([]))\n                    props.dispatch(setExpenses([]))\n                    props.dispatch(setBorrows([]))\n                    props.dispatch(setLends([]))\n                    props.dispatch(setCategories([]))\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    return (\n        <div id=\"NB-user-profile\">\n            <span>{ props.user ? ( props.user.username ? props.user.username[0].toUpperCase() : '' ) : '' }</span>\n            <div id=\"NB-logout\" >\n                <button onClick={handleLogout} >Log out</button>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user\n    }\n}\n\nexport default connect(mapStateToProps)(UserProfile)"]},"metadata":{},"sourceType":"module"}