{"ast":null,"code":"import axios from '../config/axios';\nimport { startSetIncomes } from './incomeAction';\nimport { startSetExpenses } from './expenseAction';\nimport { startSetBorrows } from './borrowAction';\nimport { startSetLends } from './lendAction';\nimport { startSetCategories } from './categoryAction';\nexport const setUser = user => {\n  return {\n    type: 'SET_USER',\n    payload: user\n  };\n};\nexport const startSetUser = () => {\n  return dispatch => {\n    axios.get('/user').then(response => {\n      const user = response.data;\n\n      if (user.username && user.email) {\n        dispatch(setUser(user));\n        dispatch(startSetIncomes());\n        dispatch(startSetExpenses());\n        dispatch(startSetBorrows());\n        dispatch(startSetLends());\n        dispatch(startSetCategories());\n      } else {\n        localStorage.removeItem('x-auth-moneymath');\n        window.location.href = '/';\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/moneymath_heroku/client/src/actions/userAction.js"],"names":["axios","startSetIncomes","startSetExpenses","startSetBorrows","startSetLends","startSetCategories","setUser","user","type","payload","startSetUser","dispatch","get","then","response","data","username","email","localStorage","removeItem","window","location","href","catch","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SAAQC,eAAR,QAA8B,gBAA9B;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,SAASC,eAAT,QAAgC,gBAAhC;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,kBAAT,QAAmC,kBAAnC;AAEA,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU;AAC7B,SAAO;AACHC,IAAAA,IAAI,EAAE,UADH;AAEHC,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAG,MAAM;AAC9B,SAAQC,QAAD,IAAc;AACjBX,IAAAA,KAAK,CAACY,GAAN,CAAU,OAAV,EACKC,IADL,CACWC,QAAD,IAAc;AAChB,YAAMP,IAAI,GAAGO,QAAQ,CAACC,IAAtB;;AACA,UAAGR,IAAI,CAACS,QAAL,IAAiBT,IAAI,CAACU,KAAzB,EAAgC;AAC5BN,QAAAA,QAAQ,CAACL,OAAO,CAACC,IAAD,CAAR,CAAR;AACAI,QAAAA,QAAQ,CAACV,eAAe,EAAhB,CAAR;AACAU,QAAAA,QAAQ,CAACT,gBAAgB,EAAjB,CAAR;AACAS,QAAAA,QAAQ,CAACR,eAAe,EAAhB,CAAR;AACAQ,QAAAA,QAAQ,CAACP,aAAa,EAAd,CAAR;AACAO,QAAAA,QAAQ,CAACN,kBAAkB,EAAnB,CAAR;AACH,OAPD,MAOO;AACHa,QAAAA,YAAY,CAACC,UAAb,CAAwB,kBAAxB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH;AACJ,KAdL,EAeKC,KAfL,CAeYC,GAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAjBL;AAkBH,GAnBD;AAoBH,CArBM","sourcesContent":["import axios from '../config/axios'\nimport {startSetIncomes} from './incomeAction'\nimport { startSetExpenses } from './expenseAction'\nimport { startSetBorrows } from './borrowAction'\nimport { startSetLends } from './lendAction'\nimport { startSetCategories } from './categoryAction'\n\nexport const setUser = (user) => {\n    return {\n        type: 'SET_USER',\n        payload: user\n    }\n}\n\nexport const startSetUser = () => {\n    return (dispatch) => {\n        axios.get('/user')\n            .then((response) => {\n                const user = response.data\n                if(user.username && user.email) {\n                    dispatch(setUser(user))\n                    dispatch(startSetIncomes())\n                    dispatch(startSetExpenses())\n                    dispatch(startSetBorrows())\n                    dispatch(startSetLends())\n                    dispatch(startSetCategories())\n                } else {\n                    localStorage.removeItem('x-auth-moneymath')\n                    window.location.href = '/'\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}