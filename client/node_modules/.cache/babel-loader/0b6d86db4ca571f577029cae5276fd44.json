{"ast":null,"code":"import _defineProperty from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{MdStarBorder,MdCheckBoxOutlineBlank,MdCheckBox,MdEdit,MdDelete,MdRestore}from'react-icons/md';import{FaEye}from'react-icons/fa';import{IoIosCheckmarkCircle,IoIosSave,IoMdStar,IoIosCloseCircle}from'react-icons/io';import{startEditIncome,startTrashAndStarIncomes,startDeleteTrashIncomes}from'../../../../actions/incomeAction';import{startEditExpense,startTrashAndStarExpenses,startDeleteTrashExpenses}from'../../../../actions/expenseAction';import{startEditBorrow,startTrashAndStarBorrows,startDeleteTrashBorrows}from'../../../../actions/borrowAction';import{startEditLend,startTrashAndStarLends,startDeleteTrashLends}from'../../../../actions/lendAction';var StatementsListing=/*#__PURE__*/function(_React$Component){_inherits(StatementsListing,_React$Component);function StatementsListing(props){var _this;_classCallCheck(this,StatementsListing);_this=_possibleConstructorReturn(this,_getPrototypeOf(StatementsListing).call(this,props));_this.handleClick=function(editId,amount,category,description){_this.setState({editId:editId,amount:amount,category:category,description:description});};_this.handleAllSelects=function(){_this.setState({selects:_this.state.selects.length===_this.state.statements.filter(function(statement){return statement.isTrashed===_this.state.isTrashList;}).length?[]:_this.state.statements.filter(function(statement){return statement.isTrashed===_this.state.isTrashList;}).map(function(statement){return statement._id;})},function(){console.log(_this.state.selects);});};_this.handleSelects=function(id){_this.setState(function(prevState){return{selects:prevState.selects.includes(id)?prevState.selects.filter(function(select){return select!==id;}):[].concat(_toConsumableArray(prevState.selects),[id])};});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleFilterCategory=function(e){var value=e.target.value;_this.setState(function(){return{filterCategory:value,statements:value?_this.props.statements.filter(function(statement){return statement.category._id===value;}):_this.props.statements,selects:[]};});};_this.handleSubmit=function(){var _this$state=_this.state,editId=_this$state.editId,amount=_this$state.amount,category=_this$state.category,description=_this$state.description;var formData={amount:amount,category:category,description:description};switch(_this.props.type){case'income':{_this.props.dispatch(startEditIncome(editId,formData));break;}case'expense':{_this.props.dispatch(startEditExpense(editId,formData));break;}case'borrow':{_this.props.dispatch(startEditBorrow(editId,formData));break;}case'lend':{_this.props.dispatch(startEditLend(editId,formData));break;}}_this.setState({editId:'',amount:'',category:'',description:''});};_this.handleTrashAndFav=function(propType,value,id){var selects=id?[id]:_this.state.selects;switch(_this.props.type){case'income':{_this.props.dispatch(startTrashAndStarIncomes({selects:selects,propType:propType,value:value}));break;}case'expense':{_this.props.dispatch(startTrashAndStarExpenses({selects:selects,propType:propType,value:value}));break;}case'borrow':{_this.props.dispatch(startTrashAndStarBorrows({selects:selects,propType:propType,value:value}));break;}case'lend':{_this.props.dispatch(startTrashAndStarLends({selects:selects,propType:propType,value:value}));break;}}};_this.handleDeleteTrash=function(id){var selects=id?[id]:_this.state.selects;switch(_this.props.type){case'income':{_this.props.dispatch(startDeleteTrashIncomes({selects:selects}));break;}case'expense':{_this.props.dispatch(startDeleteTrashExpenses({selects:selects}));break;}case'borrow':{_this.props.dispatch(startDeleteTrashBorrows({selects:selects}));break;}case'lend':{_this.props.dispatch(startDeleteTrashLends({selects:selects}));break;}}};_this.handleTrashAndStarList=function(propType,value){var _this$setState2;_this.setState((_this$setState2={},_defineProperty(_this$setState2,propType,value),_defineProperty(_this$setState2,\"selects\",[]),_this$setState2));};_this.state={isTrashList:false,isStarList:false,statements:props.statements,filterCategory:'',editId:'',amount:'',category:'',description:'',selects:[]};return _this;}_createClass(StatementsListing,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setState({statements:nextProps.statements});}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,isTrashList=_this$state2.isTrashList,isStarList=_this$state2.isStarList,statements=_this$state2.statements,selects=_this$state2.selects,filterCategory=_this$state2.filterCategory,editId=_this$state2.editId,amount=_this$state2.amount,category=_this$state2.category,description=_this$state2.description;return statements.length?React.createElement(\"div\",{id:this.props.type},React.createElement(\"div\",{id:\"statement-top-div\"},React.createElement(\"button\",{onClick:this.handleAllSelects},\" \",statements.filter(function(statement){return statement.isTrashed===isTrashList;}).length===selects.length?React.createElement(MdCheckBox,{style:{color:'black'}}):React.createElement(MdCheckBoxOutlineBlank,null)),isTrashList?React.createElement(\"button\",{onClick:function onClick(){return _this2.handleDeleteTrash();}},React.createElement(MdDelete,null)):React.createElement(\"button\",{onClick:function onClick(){return _this2.handleTrashAndFav('isTrashed',true);}},React.createElement(MdDelete,null)),React.createElement(\"select\",{value:filterCategory,onChange:this.handleFilterCategory},React.createElement(\"option\",{value:\"\"},\"All\"),this.props.categories.filter(function(category){return category.type===_this2.props.type;}).map(function(category){return React.createElement(\"option\",{key:category._id,value:category._id},category.name);})),React.createElement(\"button\",{onClick:function onClick(){return _this2.handleTrashAndStarList('isStarList',!isStarList);}},isStarList?React.createElement(IoMdStar,{style:{color:'gold'}}):React.createElement(MdStarBorder,null),\" \"),React.createElement(\"button\",{onClick:function onClick(){return _this2.handleTrashAndStarList('isTrashList',!isTrashList);}},isTrashList?React.createElement(MdDelete,{style:{color:'red'}}):React.createElement(MdDelete,null))),React.createElement(\"ul\",null,statements.filter(function(statement){return statement.isTrashed===isTrashList&&(isStarList?statement.isStarred:true);}).map(function(statement){var bgColor=statement.isPending?{backgroundColor:'#c2dbff'}:{};return React.createElement(\"li\",{style:bgColor,id:\"statement\",key:statement._id},React.createElement(\"button\",{className:\"statement-icons\",onClick:function onClick(){return _this2.handleSelects(statement._id);}},selects.includes(statement._id)?React.createElement(MdCheckBox,null):React.createElement(MdCheckBoxOutlineBlank,null)),React.createElement(\"button\",{className:\"statement-icons\",onClick:function onClick(){return _this2.handleTrashAndFav('isStarred',!statement.isStarred,statement._id);}},statement.isStarred?React.createElement(IoMdStar,{style:{color:'gold'}}):React.createElement(MdStarBorder,null)),editId===statement._id?React.createElement(\"input\",{className:\"statement-amount-input\",autoComplete:\"off\",name:\"amount\",value:amount,onChange:_this2.handleChange}):React.createElement(\"p\",{id:\"statement-amount\"},\"$ \",statement.amount),React.createElement(\"div\",{id:\"statement-dscp-date\"},React.createElement(\"div\",{id:\"statement-catg-dscp\"},editId===statement._id?React.createElement(\"select\",{className:\"statement-catg-select\",name:\"category\",value:category,onChange:_this2.handleChange},_this2.props.categories.filter(function(category){return category.type===_this2.props.type.toLowerCase();}).map(function(category){return React.createElement(\"option\",{name:\"category\",value:category._id,key:category._id},category.name);})):React.createElement(\"p\",{id:\"statement-catg\"},statement.category.name),editId===statement._id?React.createElement(\"textarea\",{className:\"statement-dscp-textarea\",name:\"description\",value:description,onChange:_this2.handleChange}):React.createElement(\"p\",{id:\"statement-dscp\"},statement.description)),React.createElement(\"div\",{style:{display:'flex',height:'fit-content'}},React.createElement(\"p\",{id:\"statement-date\"},statement.createdAt.slice(0,10)),React.createElement(\"button\",{className:\"statement-button statement-icons\"},React.createElement(FaEye,null)),isTrashList?React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){return _this2.handleDeleteTrash(statement._id);}},React.createElement(MdDelete,null)):editId===statement._id?React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:_this2.handleSubmit},React.createElement(IoIosSave,null)):React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){_this2.handleClick(statement._id,statement.amount,statement.category._id,statement.description);}},React.createElement(MdEdit,null)),React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){return _this2.handleTrashAndFav('isTrashed',!isTrashList,statement._id);}},isTrashList?React.createElement(MdRestore,null):React.createElement(MdDelete,null)),_this2.props.type==='borrow'||_this2.props.type==='lend'?React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){return _this2.handleTrashAndFav('isPending',!statement.isPending,statement._id);}},statement.isPending?React.createElement(IoIosCheckmarkCircle,null):React.createElement(IoIosCloseCircle,null)):'')));}))):React.createElement(\"p\",{id:this.props.type,className:\"no-statement\"},\"No statements are available. Add one to See.\");}}]);return StatementsListing;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{categories:state.categories};};export default connect(mapStateToProps)(StatementsListing);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/shopify/client/src/components/money-math/Container/IEBLs/StatementsListing.js"],"names":["React","connect","MdStarBorder","MdCheckBoxOutlineBlank","MdCheckBox","MdEdit","MdDelete","MdRestore","FaEye","IoIosCheckmarkCircle","IoIosSave","IoMdStar","IoIosCloseCircle","startEditIncome","startTrashAndStarIncomes","startDeleteTrashIncomes","startEditExpense","startTrashAndStarExpenses","startDeleteTrashExpenses","startEditBorrow","startTrashAndStarBorrows","startDeleteTrashBorrows","startEditLend","startTrashAndStarLends","startDeleteTrashLends","StatementsListing","props","handleClick","editId","amount","category","description","setState","handleAllSelects","selects","state","length","statements","filter","statement","isTrashed","isTrashList","map","_id","console","log","handleSelects","id","prevState","includes","select","handleChange","e","target","name","value","handleFilterCategory","filterCategory","handleSubmit","formData","type","dispatch","handleTrashAndFav","propType","handleDeleteTrash","handleTrashAndStarList","isStarList","nextProps","color","categories","isStarred","bgColor","isPending","backgroundColor","toLowerCase","display","height","createdAt","slice","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { MdStarBorder, MdCheckBoxOutlineBlank, MdCheckBox, MdEdit, MdDelete, MdRestore } from 'react-icons/md'\nimport { FaEye } from 'react-icons/fa'\nimport { IoIosCheckmarkCircle, IoIosSave, IoMdStar, IoIosCloseCircle } from 'react-icons/io'\nimport { startEditIncome, startTrashAndStarIncomes, startDeleteTrashIncomes } from '../../../../actions/incomeAction'\nimport { startEditExpense, startTrashAndStarExpenses, startDeleteTrashExpenses } from '../../../../actions/expenseAction'\nimport { startEditBorrow, startTrashAndStarBorrows, startDeleteTrashBorrows } from '../../../../actions/borrowAction'\nimport { startEditLend, startTrashAndStarLends, startDeleteTrashLends } from '../../../../actions/lendAction'\n\n\nclass StatementsListing extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            isTrashList: false,\n            isStarList: false,\n            statements: props.statements,\n            filterCategory: '',\n            editId: '',\n            amount: '',\n            category: '',\n            description: '',\n            selects: []\n        }\n    }\n    handleClick = (editId, amount, category, description) => {\n        this.setState({editId, amount, category, description})\n    }\n    handleAllSelects = () => {\n        this.setState({\n            selects: this.state.selects.length === this.state.statements.filter(statement => statement.isTrashed === this.state.isTrashList).length ? [] : this.state.statements.filter(statement => statement.isTrashed === this.state.isTrashList).map(statement => statement._id)\n        }, () => {\n            console.log(this.state.selects)\n        })\n    }\n    handleSelects = id => {\n        this.setState((prevState) => {\n            return {\n                selects: prevState.selects.includes(id) ? prevState.selects.filter(select => select !== id) : [...prevState.selects, id]\n            }\n        })\n    }\n    handleChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    handleFilterCategory = e => {\n        const { value } = e.target\n        this.setState(() => ({\n            filterCategory: value,\n            statements: value ? this.props.statements.filter(statement => statement.category._id === value) : this.props.statements,\n            selects: []\n        }))\n    }\n    handleSubmit = () => {\n        const { editId, amount, category, description } = this.state\n        const formData = { amount, category, description }\n        switch(this.props.type) {\n            case 'income': {\n                this.props.dispatch(startEditIncome(editId, formData))\n                break;\n            }\n            case 'expense': {\n                this.props.dispatch(startEditExpense(editId, formData))\n                break;\n            }\n            case 'borrow': {\n                this.props.dispatch(startEditBorrow(editId, formData))\n                break;\n            }\n            case 'lend': {\n                this.props.dispatch(startEditLend(editId, formData))\n                break;\n            }\n        }\n        this.setState({ editId: '', amount: '', category: '', description: ''})\n    }\n    handleTrashAndFav = (propType, value, id) => {\n        const selects = id ? [id] : this.state.selects\n        switch(this.props.type) {\n            case 'income': {\n                this.props.dispatch(startTrashAndStarIncomes({ selects, propType, value }))\n                break;\n            }\n            case 'expense': {\n                this.props.dispatch(startTrashAndStarExpenses({ selects, propType, value }))\n                break;\n            }\n            case 'borrow': {\n                this.props.dispatch(startTrashAndStarBorrows({ selects, propType, value }))\n                break;\n            }\n            case 'lend': {\n                this.props.dispatch(startTrashAndStarLends({ selects, propType, value }))\n                break;\n            }\n        }\n    }\n\n    handleDeleteTrash = (id) => {\n        const selects = id ? [id] : this.state.selects\n        switch(this.props.type) {\n            case 'income': {\n                this.props.dispatch(startDeleteTrashIncomes({selects}))\n                break;\n            }\n            case 'expense': {\n                this.props.dispatch(startDeleteTrashExpenses({selects}))\n                break;\n            }\n            case 'borrow': {\n                this.props.dispatch(startDeleteTrashBorrows({selects}))\n                break;\n            }\n            case 'lend': {\n                this.props.dispatch(startDeleteTrashLends({selects}))\n                break;\n            }\n        }\n    }\n\n    handleTrashAndStarList = (propType, value) => {\n        this.setState({ [propType]: value, selects: [] })\n    }\n    componentWillReceiveProps(nextProps) {\n        this.setState({ statements: nextProps.statements })\n    }\n    render() {\n        const { isTrashList, isStarList, statements, selects, filterCategory, editId, amount, category, description } = this.state\n        return (\n            statements.length ? (\n                <div id={this.props.type} >\n                    <div id=\"statement-top-div\">\n                        <button onClick={this.handleAllSelects} > { statements.filter(statement => statement.isTrashed === isTrashList).length === selects.length ? <MdCheckBox style={{color: 'black'}} /> : <MdCheckBoxOutlineBlank /> }</button>\n                        \n                        { isTrashList ? (\n                            <button onClick={ () => this.handleDeleteTrash() } ><MdDelete /></button>\n                        ) : (\n                            <button onClick={ () => this.handleTrashAndFav('isTrashed', true ) } ><MdDelete /></button>\n                        )}\n                        <select value={filterCategory} onChange={ this.handleFilterCategory } >\n                            <option value=\"\" >All</option>\n                            {\n                                this.props.categories.filter(category => category.type === this.props.type).map(category => {\n                                    return <option key={category._id} value={category._id} >{ category.name }</option>\n                                })\n                            }\n                        </select>\n\n                        <button onClick={ () => this.handleTrashAndStarList('isStarList', !isStarList) } >{ isStarList ? <IoMdStar style={{ color: 'gold'}} /> : <MdStarBorder /> } </button>\n                        <button onClick={ () => this.handleTrashAndStarList('isTrashList', !isTrashList)} >{ isTrashList ? <MdDelete style={{color: 'red'}} /> : <MdDelete /> }</button>\n                    </div>\n                    <ul>\n                    {\n                        statements.filter(statement => statement.isTrashed === isTrashList && (isStarList ? statement.isStarred : true)).map(statement => {\n                            const bgColor = statement.isPending ? { backgroundColor: '#c2dbff' } : {}\n                            return (\n                                <li style={bgColor} id=\"statement\" key={statement._id}>\n                                    <button className=\"statement-icons\" onClick={ () => this.handleSelects(statement._id) } >{ selects.includes(statement._id) ? <MdCheckBox /> : <MdCheckBoxOutlineBlank /> }</button>\n                                    <button className=\"statement-icons\" onClick={ () => this.handleTrashAndFav( 'isStarred', !statement.isStarred, statement._id )}  >{ statement.isStarred ? <IoMdStar style={{ color: 'gold'}} /> : <MdStarBorder /> }</button>\n                                    { editId === statement._id ? <input className=\"statement-amount-input\" autoComplete=\"off\" name=\"amount\" value={amount} onChange={this.handleChange} /> : <p id=\"statement-amount\">$ {statement.amount}</p> }\n                                    <div id=\"statement-dscp-date\">\n                                        <div id=\"statement-catg-dscp\">\n                                            { editId === statement._id ? (\n                                                <select className=\"statement-catg-select\" name=\"category\" value={category} onChange={this.handleChange}>\n                                                    {\n                                                        this.props.categories.filter(category => category.type === (this.props.type).toLowerCase()).map(category => {\n                                                            return <option name=\"category\" value={category._id} key={category._id} >{ category.name }</option>\n                                                        })\n                                                    }\n                                                </select>\n                                            ) : <p id=\"statement-catg\">{statement.category.name}</p> }\n                                            { editId === statement._id ? <textarea className=\"statement-dscp-textarea\" name=\"description\" value={description} onChange={this.handleChange} ></textarea> : <p id=\"statement-dscp\">{statement.description}</p> }\n                                        </div>\n                                        <div style={{display: 'flex', height: 'fit-content'}}>\n                                            <p id=\"statement-date\">{statement.createdAt.slice(0,10)}</p>\n                                            <button className=\"statement-button statement-icons\" ><FaEye /></button>\n                                            { isTrashList ? (\n                                                <button className=\"statement-button statement-icons\" onClick={ () => this.handleDeleteTrash(statement._id) } ><MdDelete /></button>\n                                            ) : (\n                                                editId === statement._id ? <button className=\"statement-button statement-icons\" onClick={ this.handleSubmit } ><IoIosSave /></button> : <button className=\"statement-button statement-icons\" onClick={() => { this.handleClick(statement._id, statement.amount, statement.category._id, statement.description)}} ><MdEdit /></button>\n                                            ) }\n                                                <button className=\"statement-button statement-icons\" onClick={ () => this.handleTrashAndFav('isTrashed', !isTrashList, statement._id)} >{ isTrashList ? <MdRestore /> : <MdDelete /> }</button>\n                                            {this.props.type === 'borrow' || this.props.type === 'lend' ? <button className=\"statement-button statement-icons\" onClick={ () => this.handleTrashAndFav('isPending', !statement.isPending, statement._id)} >{ statement.isPending ? <IoIosCheckmarkCircle /> : <IoIosCloseCircle /> }</button> : '' }\n                                        </div>\n                                    </div>\n                                </li>\n                            )\n                        })\n                    }\n                    </ul>\n                </div>\n            ) : <p id={this.props.type} className=\"no-statement\">No statements are available. Add one to See.</p>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        categories: state.categories\n    }\n}\n\nexport default connect(mapStateToProps)(StatementsListing)"]},"metadata":{},"sourceType":"module"}