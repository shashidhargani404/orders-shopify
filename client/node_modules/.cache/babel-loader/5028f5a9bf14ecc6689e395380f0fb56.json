{"ast":null,"code":"var _jsxFileName = \"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/src/components/user/Login.js\";\nimport React from 'react';\nimport Google from './GoogleLogin';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setUser } from '../../actions/userAction';\nimport { startSetIncomes } from '../../actions/incomeAction';\nimport { startSetExpenses } from '../../actions/expenseAction';\nimport { startSetBorrows } from '../../actions/borrowAction';\nimport { startSetLends } from '../../actions/lendAction';\nimport { startSetCategories } from '../../actions/categoryAction';\nimport axios from '../../config/axios';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n      const formData = {\n        email,\n        password\n      };\n      axios.post('/login', formData).then(response => {\n        if (response.data.passwordError) {\n          this.setState({\n            error: response.data.passwordError\n          });\n        } else if (response.data.token) {\n          const _response$data = response.data,\n                token = _response$data.token,\n                user = _response$data.user;\n          localStorage.setItem('x-auth-moneymath', token);\n          this.props.dispatch(setUser(user));\n          this.props.dispatch(startSetIncomes());\n          this.props.dispatch(startSetExpenses());\n          this.props.dispatch(startSetBorrows());\n          this.props.dispatch(startSetLends());\n          this.props.dispatch(startSetCategories());\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      error: ''\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error;\n    const style = !email || password.length < 8 ? {\n      backgroundColor: 'lightgray'\n    } : {};\n    return React.createElement(\"div\", {\n      id: \"signup-main-div\",\n      style: {\n        paddingBottom: '25px',\n        marginBottom: '150px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"signup-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"moneyMath\"), React.createElement(\"div\", {\n      id: \"signup-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: \"Email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      disabled: !email || password.length < 8,\n      id: \"signup-submit-button\",\n      type: \"submit\",\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Log In\"))), error ? React.createElement(\"p\", {\n      style: {\n        color: 'red',\n        fontSize: '13px',\n        letterSpacing: '1px',\n        width: '260px',\n        lineHeight: '20px',\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, error) : '', React.createElement(Link, {\n      id: \"signup-third-p\",\n      style: {\n        margin: '5px 0 10px',\n        textDecoration: 'none'\n      },\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Forgot password?\"), React.createElement(\"p\", {\n      id: \"signup-third-p\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Don't have an account? \", React.createElement(Link, {\n      to: \"/signup\",\n      style: {\n        textDecoration: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Sign up\")), React.createElement(\"div\", {\n      id: \"signup-form-separater\",\n      style: {\n        margin: '0px 0 20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"OR\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(Google, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default connect()(Login);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/moneymath_heroku/client/src/components/user/Login.js"],"names":["React","Google","Link","connect","setUser","startSetIncomes","startSetExpenses","startSetBorrows","startSetLends","startSetCategories","axios","Login","Component","constructor","props","handleSubmit","e","preventDefault","state","email","password","formData","post","then","response","data","passwordError","setState","error","token","user","localStorage","setItem","dispatch","catch","err","console","log","handleChange","target","name","value","render","style","length","backgroundColor","paddingBottom","marginBottom","color","fontSize","letterSpacing","width","lineHeight","margin","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Google from './GoogleLogin'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { setUser } from '../../actions/userAction'\nimport { startSetIncomes } from '../../actions/incomeAction'\nimport { startSetExpenses } from '../../actions/expenseAction'\nimport { startSetBorrows } from '../../actions/borrowAction'\nimport { startSetLends } from '../../actions/lendAction'\nimport { startSetCategories } from '../../actions/categoryAction'\nimport axios from '../../config/axios'\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n            error: ''\n        }\n    }\n    handleSubmit = e => {\n        e.preventDefault()\n\n        const { email, password } = this.state\n        const formData = { email, password }\n\n        axios.post('/login', formData)\n            .then((response) => {\n                if(response.data.passwordError) {\n                    this.setState({ error: response.data.passwordError })\n                } else if(response.data.token) {\n                    const { token, user } = response.data\n                    localStorage.setItem('x-auth-moneymath', token)\n                    this.props.dispatch(setUser(user))\n                    this.props.dispatch(startSetIncomes())\n                    this.props.dispatch(startSetExpenses())\n                    this.props.dispatch(startSetBorrows())\n                    this.props.dispatch(startSetLends())\n                    this.props.dispatch(startSetCategories())\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n    handleChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    render() {\n        const { email, password, error } = this.state\n        const style = (!email || (password.length < 8)) ? { backgroundColor: 'lightgray' } : {}\n        return (\n            <div id=\"signup-main-div\" style={{paddingBottom: '25px', marginBottom: '150px'}}>\n                <h1 id=\"signup-header\">moneyMath</h1>\n                <div id=\"signup-form\">\n                    <form onSubmit={this.handleSubmit}>\n                        <input placeholder=\"Email\" name=\"email\" value={this.state.email} onChange={this.handleChange} />\n                        <input type=\"password\" placeholder=\"Password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\n                        <button disabled={ !email || password.length < 8 } id=\"signup-submit-button\" type=\"submit\" style={style}  >Log In</button>\n                    </form>\n                </div>\n                { error ? <p style={{ color: 'red', fontSize: '13px', letterSpacing: '1px', width: '260px', lineHeight: '20px', marginBottom: '10px' }} >{ error }</p> : '' }\n                <Link id=\"signup-third-p\" style={{margin: '5px 0 10px', textDecoration: 'none'}} to=\"/\">Forgot password?</Link>\n                <p id=\"signup-third-p\">Don't have an account? <Link to=\"/signup\" style={{textDecoration: 'none'}} >Sign up</Link></p>\n                <div id=\"signup-form-separater\" style={{margin: '0px 0 20px'}}>\n                    <hr/>\n                    <p>OR</p>\n                    <hr/>\n                </div>\n                <Google />\n            </div>\n        )\n    }\n}\n\nexport default connect()(Login)"]},"metadata":{},"sourceType":"module"}