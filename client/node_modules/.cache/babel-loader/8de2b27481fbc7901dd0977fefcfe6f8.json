{"ast":null,"code":"import _defineProperty from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/shash/web-dev/playground/heroku/money-demo/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{MdStarBorder,MdCheckBoxOutlineBlank,MdCheckBox,MdEdit,MdDelete,MdRestore}from'react-icons/md';import{FaEye}from'react-icons/fa';import{IoIosCheckmarkCircle,IoIosSave,IoMdStar,IoIosCloseCircle}from'react-icons/io';import{startEditIncome,startTrashAndStarIncomes,startDeleteTrashIncomes}from'../../../../actions/incomeAction';import{startEditExpense,startTrashAndStarExpenses,startDeleteTrashExpenses}from'../../../../actions/expenseAction';import{startEditBorrow,startTrashAndStarBorrows,startDeleteTrashBorrows}from'../../../../actions/borrowAction';import{startEditLend,startTrashAndStarLends,startDeleteTrashLends}from'../../../../actions/lendAction';var StatementsListing=/*#__PURE__*/function(_React$Component){_inherits(StatementsListing,_React$Component);function StatementsListing(props){var _this;_classCallCheck(this,StatementsListing);_this=_possibleConstructorReturn(this,_getPrototypeOf(StatementsListing).call(this,props));_this.handleClick=function(editId,amount,category,description){_this.setState({editId:editId,amount:amount,category:category,description:description});};_this.handleAllSelects=function(){_this.setState({selects:_this.state.selects.length===_this.state.statements.length?[]:_this.state.statements.map(function(statement){return statement._id;})});};_this.handleSelects=function(id){_this.setState(function(prevState){return{selects:prevState.selects.includes(id)?prevState.selects.filter(function(select){return select!==id;}):[].concat(_toConsumableArray(prevState.selects),[id])};});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleFilterCategory=function(e){var value=e.target.value;_this.setState(function(){return{filterCategory:value,statements:value?_this.props.statements.filter(function(statement){return statement.category._id===value;}):_this.props.statements,selects:[]};});};_this.handleSubmit=function(){var _this$state=_this.state,editId=_this$state.editId,amount=_this$state.amount,category=_this$state.category,description=_this$state.description;var formData={amount:amount,category:category,description:description};switch(_this.props.type){case'income':{_this.props.dispatch(startEditIncome(editId,formData));break;}case'expense':{_this.props.dispatch(startEditExpense(editId,formData));break;}case'borrow':{_this.props.dispatch(startEditBorrow(editId,formData));break;}case'lend':{_this.props.dispatch(startEditLend(editId,formData));break;}}_this.setState({editId:'',amount:'',category:'',description:''});};_this.handleTrashAndFav=function(propType,value,id){var selects=id?[id]:_this.state.selects;switch(_this.props.type){case'income':{_this.props.dispatch(startTrashAndStarIncomes({selects:selects,propType:propType,value:value}));break;}case'expense':{_this.props.dispatch(startTrashAndStarExpenses({selects:selects,propType:propType,value:value}));break;}case'borrow':{_this.props.dispatch(startTrashAndStarBorrows({selects:selects,propType:propType,value:value}));break;}case'lend':{_this.props.dispatch(startTrashAndStarLends({selects:selects,propType:propType,value:value}));break;}}};_this.handleDeleteTrash=function(id){var selects=id?[id]:_this.state.selects;switch(_this.props.type){case'income':{_this.props.dispatch(startDeleteTrashIncomes({selects:selects}));break;}case'expense':{_this.props.dispatch(startDeleteTrashExpenses({selects:selects}));break;}case'borrow':{_this.props.dispatch(startDeleteTrashBorrows({selects:selects}));break;}case'lend':{_this.props.dispatch(startDeleteTrashLends({selects:selects}));break;}}};_this.handleTrashAndStarList=function(propType,value){var _this$setState2;_this.setState((_this$setState2={},_defineProperty(_this$setState2,propType,value),_defineProperty(_this$setState2,\"selects\",[]),_this$setState2));};_this.state={isTrashList:false,isStarList:false,statements:props.statements,filterCategory:'',editId:'',amount:'',category:'',description:'',selects:[]};return _this;}_createClass(StatementsListing,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setState({statements:nextProps.statements});}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,isTrashList=_this$state2.isTrashList,isStarList=_this$state2.isStarList,statements=_this$state2.statements,selects=_this$state2.selects,filterCategory=_this$state2.filterCategory,editId=_this$state2.editId,amount=_this$state2.amount,category=_this$state2.category,description=_this$state2.description;return statements.length?React.createElement(\"div\",{id:this.props.type},React.createElement(\"div\",{id:\"statement-top-div\"},React.createElement(\"button\",{onClick:this.handleAllSelects},\" \",statements.length===selects.length?React.createElement(MdCheckBox,{style:{color:'black'}}):React.createElement(MdCheckBoxOutlineBlank,null)),isTrashList?React.createElement(\"button\",{onClick:function onClick(){return _this2.handleDeleteTrash();}},React.createElement(MdDelete,null)):React.createElement(\"button\",{onClick:function onClick(){return _this2.handleTrashAndFav('isTrashed',true);}},React.createElement(MdDelete,null)),React.createElement(\"select\",{value:filterCategory,onChange:this.handleFilterCategory},React.createElement(\"option\",{value:\"\"},\"All\"),this.props.categories.filter(function(category){return category.type===_this2.props.type||category.type==='others';}).map(function(category){return React.createElement(\"option\",{key:category._id,value:category._id},category.name);})),React.createElement(\"button\",{onClick:function onClick(){return _this2.handleTrashAndStarList('isStarList',!isStarList);}},isStarList?React.createElement(IoMdStar,{style:{color:'gold'}}):React.createElement(MdStarBorder,null),\" \"),React.createElement(\"button\",{onClick:function onClick(){return _this2.handleTrashAndStarList('isTrashList',!isTrashList);}},isTrashList?React.createElement(MdDelete,{style:{color:'red'}}):React.createElement(MdDelete,null))),React.createElement(\"ul\",null,statements.filter(function(statement){return statement.isTrashed===isTrashList&&(isStarList?statement.isStarred:true);}).map(function(statement){var bgColor=statement.isPending?{backgroundColor:'#c2dbff'}:{};return React.createElement(\"li\",{style:bgColor,id:\"statement\",key:statement._id},React.createElement(\"button\",{className:\"statement-icons\",onClick:function onClick(){return _this2.handleSelects(statement._id);}},selects.includes(statement._id)?React.createElement(MdCheckBox,null):React.createElement(MdCheckBoxOutlineBlank,null)),React.createElement(\"button\",{className:\"statement-icons\",onClick:function onClick(){return _this2.handleTrashAndFav('isStarred',!statement.isStarred,statement._id);}},statement.isStarred?React.createElement(IoMdStar,{style:{color:'gold'}}):React.createElement(MdStarBorder,null)),editId===statement._id?React.createElement(\"input\",{className:\"statement-amount-input\",autoComplete:\"off\",name:\"amount\",value:amount,onChange:_this2.handleChange}):React.createElement(\"p\",{id:\"statement-amount\"},\"$ \",statement.amount),React.createElement(\"div\",{id:\"statement-dscp-date\"},React.createElement(\"div\",{id:\"statement-catg-dscp\"},editId===statement._id?React.createElement(\"select\",{className:\"statement-catg-select\",name:\"category\",value:category,onChange:_this2.handleChange},_this2.props.categories.filter(function(category){return category.type===_this2.props.type.toLowerCase()||category.type==='others';}).map(function(category){return React.createElement(\"option\",{name:\"category\",value:category._id,key:category._id},category.name);})):React.createElement(\"p\",{id:\"statement-catg\"},statement.category.name),editId===statement._id?React.createElement(\"textarea\",{className:\"statement-dscp-textarea\",name:\"description\",value:description,onChange:_this2.handleChange}):React.createElement(\"p\",{id:\"statement-dscp\"},statement.description)),React.createElement(\"div\",{style:{display:'flex',height:'fit-content'}},React.createElement(\"p\",{id:\"statement-date\"},statement.createdAt.slice(0,10)),React.createElement(\"button\",{className:\"statement-button statement-icons\"},React.createElement(FaEye,null)),isTrashList?React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){return _this2.handleDeleteTrash(statement._id);}},React.createElement(MdDelete,null)):editId===statement._id?React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:_this2.handleSubmit},React.createElement(IoIosSave,null)):React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){_this2.handleClick(statement._id,statement.amount,statement.category._id,statement.description);}},React.createElement(MdEdit,null)),React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){return _this2.handleTrashAndFav('isTrashed',!isTrashList,statement._id);}},isTrashList?React.createElement(MdRestore,null):React.createElement(MdDelete,null)),_this2.props.type==='borrow'||_this2.props.type==='lend'?React.createElement(\"button\",{className:\"statement-button statement-icons\",onClick:function onClick(){return _this2.handleTrashAndFav('isPending',!statement.isPending,statement._id);}},statement.isPending?React.createElement(IoIosCheckmarkCircle,null):React.createElement(IoIosCloseCircle,null)):'')));}))):React.createElement(\"p\",{id:this.props.type,className:\"no-statement\"},\"No statements are available. Add one to See.\");}}]);return StatementsListing;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{categories:state.categories};};export default connect(mapStateToProps)(StatementsListing);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/money-demo/client/src/components/money-math/Container/IEBLs/StatementsListing.js"],"names":["React","connect","MdStarBorder","MdCheckBoxOutlineBlank","MdCheckBox","MdEdit","MdDelete","MdRestore","FaEye","IoIosCheckmarkCircle","IoIosSave","IoMdStar","IoIosCloseCircle","startEditIncome","startTrashAndStarIncomes","startDeleteTrashIncomes","startEditExpense","startTrashAndStarExpenses","startDeleteTrashExpenses","startEditBorrow","startTrashAndStarBorrows","startDeleteTrashBorrows","startEditLend","startTrashAndStarLends","startDeleteTrashLends","StatementsListing","props","handleClick","editId","amount","category","description","setState","handleAllSelects","selects","state","length","statements","map","statement","_id","handleSelects","id","prevState","includes","filter","select","handleChange","e","target","name","value","handleFilterCategory","filterCategory","handleSubmit","formData","type","dispatch","handleTrashAndFav","propType","handleDeleteTrash","handleTrashAndStarList","isTrashList","isStarList","nextProps","color","categories","isTrashed","isStarred","bgColor","isPending","backgroundColor","toLowerCase","display","height","createdAt","slice","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { MdStarBorder, MdCheckBoxOutlineBlank, MdCheckBox, MdEdit, MdDelete, MdRestore } from 'react-icons/md'\nimport { FaEye } from 'react-icons/fa'\nimport { IoIosCheckmarkCircle, IoIosSave, IoMdStar, IoIosCloseCircle } from 'react-icons/io'\nimport { startEditIncome, startTrashAndStarIncomes, startDeleteTrashIncomes } from '../../../../actions/incomeAction'\nimport { startEditExpense, startTrashAndStarExpenses, startDeleteTrashExpenses } from '../../../../actions/expenseAction'\nimport { startEditBorrow, startTrashAndStarBorrows, startDeleteTrashBorrows } from '../../../../actions/borrowAction'\nimport { startEditLend, startTrashAndStarLends, startDeleteTrashLends } from '../../../../actions/lendAction'\n\n\nclass StatementsListing extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            isTrashList: false,\n            isStarList: false,\n            statements: props.statements,\n            filterCategory: '',\n            editId: '',\n            amount: '',\n            category: '',\n            description: '',\n            selects: []\n        }\n    }\n    handleClick = (editId, amount, category, description) => {\n        this.setState({editId, amount, category, description})\n    }\n    handleAllSelects = () => {\n        this.setState({\n            selects: this.state.selects.length === this.state.statements.length ? [] : this.state.statements.map(statement => statement._id)\n        })\n    }\n    handleSelects = id => {\n        this.setState((prevState) => {\n            return {\n                selects: prevState.selects.includes(id) ? prevState.selects.filter(select => select !== id) : [...prevState.selects, id]\n            }\n        })\n    }\n    handleChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    handleFilterCategory = e => {\n        const { value } = e.target\n        this.setState(() => ({\n            filterCategory: value,\n            statements: value ? this.props.statements.filter(statement => statement.category._id === value) : this.props.statements,\n            selects: []\n        }))\n    }\n    handleSubmit = () => {\n        const { editId, amount, category, description } = this.state\n        const formData = { amount, category, description }\n        switch(this.props.type) {\n            case 'income': {\n                this.props.dispatch(startEditIncome(editId, formData))\n                break;\n            }\n            case 'expense': {\n                this.props.dispatch(startEditExpense(editId, formData))\n                break;\n            }\n            case 'borrow': {\n                this.props.dispatch(startEditBorrow(editId, formData))\n                break;\n            }\n            case 'lend': {\n                this.props.dispatch(startEditLend(editId, formData))\n                break;\n            }\n        }\n        this.setState({ editId: '', amount: '', category: '', description: ''})\n    }\n    handleTrashAndFav = (propType, value, id) => {\n        const selects = id ? [id] : this.state.selects\n        switch(this.props.type) {\n            case 'income': {\n                this.props.dispatch(startTrashAndStarIncomes({ selects, propType, value }))\n                break;\n            }\n            case 'expense': {\n                this.props.dispatch(startTrashAndStarExpenses({ selects, propType, value }))\n                break;\n            }\n            case 'borrow': {\n                this.props.dispatch(startTrashAndStarBorrows({ selects, propType, value }))\n                break;\n            }\n            case 'lend': {\n                this.props.dispatch(startTrashAndStarLends({ selects, propType, value }))\n                break;\n            }\n        }\n    }\n\n    handleDeleteTrash = (id) => {\n        const selects = id ? [id] : this.state.selects\n        switch(this.props.type) {\n            case 'income': {\n                this.props.dispatch(startDeleteTrashIncomes({selects}))\n                break;\n            }\n            case 'expense': {\n                this.props.dispatch(startDeleteTrashExpenses({selects}))\n                break;\n            }\n            case 'borrow': {\n                this.props.dispatch(startDeleteTrashBorrows({selects}))\n                break;\n            }\n            case 'lend': {\n                this.props.dispatch(startDeleteTrashLends({selects}))\n                break;\n            }\n        }\n    }\n\n    handleTrashAndStarList = (propType, value) => {\n        this.setState({ [propType]: value, selects: [] })\n    }\n    componentWillReceiveProps(nextProps) {\n        this.setState({ statements: nextProps.statements })\n    }\n    render() {\n        const { isTrashList, isStarList, statements, selects, filterCategory, editId, amount, category, description } = this.state\n        return (\n            statements.length ? (\n                <div id={this.props.type} >\n                    <div id=\"statement-top-div\">\n                        <button onClick={this.handleAllSelects} > { statements.length === selects.length ? <MdCheckBox style={{color: 'black'}} /> : <MdCheckBoxOutlineBlank /> }</button>\n                        \n                        { isTrashList ? (\n                            <button onClick={ () => this.handleDeleteTrash() } ><MdDelete /></button>\n                        ) : (\n                            <button onClick={ () => this.handleTrashAndFav('isTrashed', true ) } ><MdDelete /></button>\n                        )}\n                        <select value={filterCategory} onChange={ this.handleFilterCategory } >\n                            <option value=\"\" >All</option>\n                            {\n                                this.props.categories.filter(category => category.type === this.props.type || category.type === 'others').map(category => {\n                                    return <option key={category._id} value={category._id} >{ category.name }</option>\n                                })\n                            }\n                        </select>\n\n                        <button onClick={ () => this.handleTrashAndStarList('isStarList', !isStarList) } >{ isStarList ? <IoMdStar style={{ color: 'gold'}} /> : <MdStarBorder /> } </button>\n                        <button onClick={ () => this.handleTrashAndStarList('isTrashList', !isTrashList)} >{ isTrashList ? <MdDelete style={{color: 'red'}} /> : <MdDelete /> }</button>\n                    </div>\n                    <ul>\n                    {\n                        statements.filter(statement => statement.isTrashed === isTrashList && (isStarList ? statement.isStarred : true)).map(statement => {\n                            const bgColor = statement.isPending ? { backgroundColor: '#c2dbff' } : {}\n                            return (\n                                <li style={bgColor} id=\"statement\" key={statement._id}>\n                                    <button className=\"statement-icons\" onClick={ () => this.handleSelects(statement._id) } >{ selects.includes(statement._id) ? <MdCheckBox /> : <MdCheckBoxOutlineBlank /> }</button>\n                                    <button className=\"statement-icons\" onClick={ () => this.handleTrashAndFav( 'isStarred', !statement.isStarred, statement._id )}  >{ statement.isStarred ? <IoMdStar style={{ color: 'gold'}} /> : <MdStarBorder /> }</button>\n                                    { editId === statement._id ? <input className=\"statement-amount-input\" autoComplete=\"off\" name=\"amount\" value={amount} onChange={this.handleChange} /> : <p id=\"statement-amount\">$ {statement.amount}</p> }\n                                    <div id=\"statement-dscp-date\">\n                                        <div id=\"statement-catg-dscp\">\n                                            { editId === statement._id ? (\n                                                <select className=\"statement-catg-select\" name=\"category\" value={category} onChange={this.handleChange}>\n                                                    {\n                                                        this.props.categories.filter(category => category.type === (this.props.type).toLowerCase() || category.type === 'others' ).map(category => {\n                                                            return <option name=\"category\" value={category._id} key={category._id} >{ category.name }</option>\n                                                        })\n                                                    }\n                                                </select>\n                                            ) : <p id=\"statement-catg\">{statement.category.name}</p> }\n                                            { editId === statement._id ? <textarea className=\"statement-dscp-textarea\" name=\"description\" value={description} onChange={this.handleChange} ></textarea> : <p id=\"statement-dscp\">{statement.description}</p> }\n                                        </div>\n                                        <div style={{display: 'flex', height: 'fit-content'}}>\n                                            <p id=\"statement-date\">{statement.createdAt.slice(0,10)}</p>\n                                            <button className=\"statement-button statement-icons\" ><FaEye /></button>\n                                            { isTrashList ? (\n                                                <button className=\"statement-button statement-icons\" onClick={ () => this.handleDeleteTrash(statement._id) } ><MdDelete /></button>\n                                            ) : (\n                                                editId === statement._id ? <button className=\"statement-button statement-icons\" onClick={ this.handleSubmit } ><IoIosSave /></button> : <button className=\"statement-button statement-icons\" onClick={() => { this.handleClick(statement._id, statement.amount, statement.category._id, statement.description)}} ><MdEdit /></button>\n                                            ) }\n                                                <button className=\"statement-button statement-icons\" onClick={ () => this.handleTrashAndFav('isTrashed', !isTrashList, statement._id)} >{ isTrashList ? <MdRestore /> : <MdDelete /> }</button>\n                                            {this.props.type === 'borrow' || this.props.type === 'lend' ? <button className=\"statement-button statement-icons\" onClick={ () => this.handleTrashAndFav('isPending', !statement.isPending, statement._id)} >{ statement.isPending ? <IoIosCheckmarkCircle /> : <IoIosCloseCircle /> }</button> : '' }\n                                        </div>\n                                    </div>\n                                </li>\n                            )\n                        })\n                    }\n                    </ul>\n                </div>\n            ) : <p id={this.props.type} className=\"no-statement\">No statements are available. Add one to See.</p>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        categories: state.categories\n    }\n}\n\nexport default connect(mapStateToProps)(StatementsListing)"]},"metadata":{},"sourceType":"module"}