{"ast":null,"code":"import axios from '../config/axios';\nimport { startSetIncomes } from './incomeAction';\nimport { startSetExpenses } from './expenseAction';\nimport { startSetBorrows } from './borrowAction';\nimport { startSetLends } from './lendAction';\nimport { startSetCategories } from './categoryAction';\nexport const setUser = user => {\n  return {\n    type: 'SET_USER',\n    payload: user\n  };\n};\nexport const startSetUser = () => {\n  return dispatch => {\n    axios.get('/user', {\n      headers: {\n        'x-auth': localStorage.getItem('x-auth')\n      }\n    }).then(response => {\n      const user = response.data;\n\n      if (user) {\n        dispatch(setUser(user));\n        dispatch(startSetIncomes()); // dispatch(startSetExpenses())\n        // dispatch(startSetBorrows())\n        // dispatch(startSetLends())\n        // dispatch(startSetCategories())\n      } else {\n        localStorage.removeItem('x-auth');\n        window.location.href = '/';\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/demo-money-local/client/src/actions/userAction.js"],"names":["axios","startSetIncomes","startSetExpenses","startSetBorrows","startSetLends","startSetCategories","setUser","user","type","payload","startSetUser","dispatch","get","headers","localStorage","getItem","then","response","data","removeItem","window","location","href","catch","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SAAQC,eAAR,QAA8B,gBAA9B;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,SAASC,eAAT,QAAgC,gBAAhC;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,kBAAT,QAAmC,kBAAnC;AAEA,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU;AAC7B,SAAO;AACHC,IAAAA,IAAI,EAAE,UADH;AAEHC,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAG,MAAM;AAC9B,SAAQC,QAAD,IAAc;AACjBX,IAAAA,KAAK,CAACY,GAAN,CAAU,OAAV,EAAmB;AACfC,MAAAA,OAAO,EAAE;AACL,kBAAUC,YAAY,CAACC,OAAb,CAAqB,QAArB;AADL;AADM,KAAnB,EAKKC,IALL,CAKWC,QAAD,IAAc;AAChB,YAAMV,IAAI,GAAGU,QAAQ,CAACC,IAAtB;;AACA,UAAGX,IAAH,EAAS;AACLI,QAAAA,QAAQ,CAACL,OAAO,CAACC,IAAD,CAAR,CAAR;AACAI,QAAAA,QAAQ,CAACV,eAAe,EAAhB,CAAR,CAFK,CAGL;AACA;AACA;AACA;AACH,OAPD,MAOO;AACHa,QAAAA,YAAY,CAACK,UAAb,CAAwB,QAAxB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH;AACJ,KAlBL,EAmBKC,KAnBL,CAmBYC,GAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KArBL;AAsBH,GAvBD;AAwBH,CAzBM","sourcesContent":["import axios from '../config/axios'\nimport {startSetIncomes} from './incomeAction'\nimport { startSetExpenses } from './expenseAction'\nimport { startSetBorrows } from './borrowAction'\nimport { startSetLends } from './lendAction'\nimport { startSetCategories } from './categoryAction'\n\nexport const setUser = (user) => {\n    return {\n        type: 'SET_USER',\n        payload: user\n    }\n}\n\nexport const startSetUser = () => {\n    return (dispatch) => {\n        axios.get('/user', {\n            headers: {\n                'x-auth': localStorage.getItem('x-auth')\n            }\n        })\n            .then((response) => {\n                const user = response.data\n                if(user) {\n                    dispatch(setUser(user))\n                    dispatch(startSetIncomes())\n                    // dispatch(startSetExpenses())\n                    // dispatch(startSetBorrows())\n                    // dispatch(startSetLends())\n                    // dispatch(startSetCategories())\n                } else {\n                    localStorage.removeItem('x-auth')\n                    window.location.href = '/'\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}