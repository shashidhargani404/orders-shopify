{"ast":null,"code":"import axios from'../config/axios';import{startSetIncomes}from'./incomeAction';import{startSetExpenses}from'./expenseAction';import{startSetBorrows}from'./borrowAction';import{startSetLends}from'./lendAction';import{startSetCategories}from'./categoryAction';export var setUser=function setUser(user){return{type:'SET_USER',payload:user};};export var startSetUser=function startSetUser(){return function(dispatch){axios.get('/user',{headers:{'x-auth':localStorage.getItem('x-auth')}}).then(function(response){var user=response.data;if(user){dispatch(setUser(user));dispatch(startSetIncomes());dispatch(startSetExpenses());dispatch(startSetBorrows());dispatch(startSetLends());dispatch(startSetCategories());}else{localStorage.removeItem('x-auth');window.location.href='/';}}).catch(function(err){console.log(err);});};};","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/demo-money/client/src/actions/userAction.js"],"names":["axios","startSetIncomes","startSetExpenses","startSetBorrows","startSetLends","startSetCategories","setUser","user","type","payload","startSetUser","dispatch","get","headers","localStorage","getItem","then","response","data","removeItem","window","location","href","catch","err","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,iBAAlB,CACA,OAAQC,eAAR,KAA8B,gBAA9B,CACA,OAASC,gBAAT,KAAiC,iBAAjC,CACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,kBAAT,KAAmC,kBAAnC,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAU,CAC7B,MAAO,CACHC,IAAI,CAAE,UADH,CAEHC,OAAO,CAAEF,IAFN,CAAP,CAIH,CALM,CAOP,MAAO,IAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC9B,MAAO,UAACC,QAAD,CAAc,CACjBX,KAAK,CAACY,GAAN,CAAU,OAAV,CAAmB,CACfC,OAAO,CAAE,CACL,SAAUC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADL,CADM,CAAnB,EAKKC,IALL,CAKU,SAACC,QAAD,CAAc,CAChB,GAAMV,CAAAA,IAAI,CAAGU,QAAQ,CAACC,IAAtB,CACA,GAAGX,IAAH,CAAS,CACLI,QAAQ,CAACL,OAAO,CAACC,IAAD,CAAR,CAAR,CACAI,QAAQ,CAACV,eAAe,EAAhB,CAAR,CACAU,QAAQ,CAACT,gBAAgB,EAAjB,CAAR,CACAS,QAAQ,CAACR,eAAe,EAAhB,CAAR,CACAQ,QAAQ,CAACP,aAAa,EAAd,CAAR,CACAO,QAAQ,CAACN,kBAAkB,EAAnB,CAAR,CACH,CAPD,IAOO,CACHS,YAAY,CAACK,UAAb,CAAwB,QAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACH,CACJ,CAlBL,EAmBKC,KAnBL,CAmBW,SAACC,GAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CArBL,EAsBH,CAvBD,CAwBH,CAzBM","sourcesContent":["import axios from '../config/axios'\nimport {startSetIncomes} from './incomeAction'\nimport { startSetExpenses } from './expenseAction'\nimport { startSetBorrows } from './borrowAction'\nimport { startSetLends } from './lendAction'\nimport { startSetCategories } from './categoryAction'\n\nexport const setUser = (user) => {\n    return {\n        type: 'SET_USER',\n        payload: user\n    }\n}\n\nexport const startSetUser = () => {\n    return (dispatch) => {\n        axios.get('/user', {\n            headers: {\n                'x-auth': localStorage.getItem('x-auth')\n            }\n        })\n            .then((response) => {\n                const user = response.data\n                if(user) {\n                    dispatch(setUser(user))\n                    dispatch(startSetIncomes())\n                    dispatch(startSetExpenses())\n                    dispatch(startSetBorrows())\n                    dispatch(startSetLends())\n                    dispatch(startSetCategories())\n                } else {\n                    localStorage.removeItem('x-auth')\n                    window.location.href = '/'\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}