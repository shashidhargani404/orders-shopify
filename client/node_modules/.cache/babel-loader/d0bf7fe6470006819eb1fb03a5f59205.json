{"ast":null,"code":"import _classCallCheck from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/shash/web-dev/playground/heroku/shopify/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import{FaEdit}from'react-icons/fa';import moment from'moment';var OrderList=/*#__PURE__*/function(_React$Component){_inherits(OrderList,_React$Component);function OrderList(props){var _this;_classCallCheck(this,OrderList);_this=_possibleConstructorReturn(this,_getPrototypeOf(OrderList).call(this,props));_this.state={newOrder:false};return _this;}_createClass(OrderList,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var _this2=this;if(nextProps.orders.length==1+this.props.orders.length){this.setState({newOrder:true});setTimeout(function(){_this2.setState({newOrder:false});},10000);}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"p-5\"},React.createElement(\"h4\",{className:\"pb-2\"},\"Total Orders - \",this.props.orders.length),this.state.newOrder?React.createElement(\"div\",{class:\"alert alert-primary\",role:\"alert\"},\"A new product is ordered just now.\"):'',React.createElement(\"table\",{className:\"table\"},React.createElement(\"thead\",{className:\"bg-white\"},React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\"},\"#\"),React.createElement(\"th\",{scope:\"col\"},\"Order\"),React.createElement(\"th\",{scope:\"col\"},\"Date\"),React.createElement(\"th\",{scope:\"col\"},\"Customer\"),React.createElement(\"th\",{scope:\"col\"},\"Total\"))),React.createElement(\"tbody\",null,this.props.orders.map(function(order,index){return React.createElement(\"tr\",{key:order._id},React.createElement(\"th\",{scope:\"row\"},index+1),React.createElement(\"td\",null,order.name),React.createElement(\"td\",null,\" \",new Date(Date.parse(order.created_at)).toLocaleString(),\" \"),React.createElement(\"td\",null,order.first_name+' '+order.last_name,React.createElement(Link,{to:\"/customers/\".concat(order._id)},React.createElement(FaEdit,{className:\"ml-2\"}))),React.createElement(\"td\",null,order.total_price.toFixed(2)));}))));}}]);return OrderList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{orders:state.orders};};export default connect(mapStateToProps)(OrderList);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/shopify/client/src/components/Order/Order.js"],"names":["React","connect","Link","FaEdit","moment","OrderList","props","state","newOrder","nextProps","orders","length","setState","setTimeout","map","order","index","_id","name","Date","parse","created_at","toLocaleString","first_name","last_name","total_price","toFixed","Component","mapStateToProps"],"mappings":"irBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,C,GAEMC,CAAAA,S,+EACF,mBAAYC,KAAZ,CAAmB,2CACf,2EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,KADD,CAAb,CAFe,aAKlB,C,kGACyBC,S,CAAW,iBACjC,GAAGA,SAAS,CAACC,MAAV,CAAiBC,MAAjB,EAA2B,EAAI,KAAKL,KAAL,CAAWI,MAAX,CAAkBC,MAApD,CAA4D,CACxD,KAAKC,QAAL,CAAc,CACVJ,QAAQ,CAAE,IADA,CAAd,EAGAK,UAAU,CAAC,UAAM,CACb,MAAI,CAACD,QAAL,CAAc,CACVJ,QAAQ,CAAE,KADA,CAAd,EAGH,CAJS,CAIP,KAJO,CAAV,CAKH,CACJ,C,uCACQ,CACL,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,0BAAI,SAAS,CAAC,MAAd,oBAAuC,KAAKF,KAAL,CAAWI,MAAX,CAAkBC,MAAzD,CADJ,CAGQ,KAAKJ,KAAL,CAAWC,QAAX,CACI,2BAAK,KAAK,CAAC,qBAAX,CAAiC,IAAI,CAAC,OAAtC,uCADJ,CAII,EAPZ,CASI,6BAAO,SAAS,CAAC,OAAjB,EACI,6BAAO,SAAS,CAAC,UAAjB,EACI,8BACI,0BAAI,KAAK,CAAC,KAAV,MADJ,CAEI,0BAAI,KAAK,CAAC,KAAV,UAFJ,CAGI,0BAAI,KAAK,CAAC,KAAV,SAHJ,CAII,0BAAI,KAAK,CAAC,KAAV,aAJJ,CAKI,0BAAI,KAAK,CAAC,KAAV,UALJ,CADJ,CADJ,CAUI,iCAEI,KAAKF,KAAL,CAAWI,MAAX,CAAkBI,GAAlB,CAAsB,SAACC,KAAD,CAAQC,KAAR,CAAkB,CACpC,MACQ,2BAAI,GAAG,CAAED,KAAK,CAACE,GAAf,EACI,0BAAI,KAAK,CAAC,KAAV,EAAkBD,KAAK,CAAG,CAA1B,CADJ,CAEI,8BAAMD,KAAK,CAACG,IAAZ,CAFJ,CAGI,kCAAO,GAAIC,CAAAA,IAAJ,CAASA,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACM,UAAjB,CAAT,EAAuCC,cAAvC,EAAP,KAHJ,CAII,8BAAMP,KAAK,CAACQ,UAAN,CAAmB,GAAnB,CAAyBR,KAAK,CAACS,SAArC,CACI,oBAAC,IAAD,EAAM,EAAE,sBAAgBT,KAAK,CAACE,GAAtB,CAAR,EAAqC,oBAAC,MAAD,EAAQ,SAAS,CAAC,MAAlB,EAArC,CADJ,CAJJ,CAOI,8BAAMF,KAAK,CAACU,WAAN,CAAkBC,OAAlB,CAA0B,CAA1B,CAAN,CAPJ,CADR,CAWH,CAZD,CAFJ,CAVJ,CATJ,CADJ,CAwCH,C,uBA5DmB1B,KAAK,CAAC2B,S,EA+D9B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACrB,KAAD,CAAW,CAC/B,MAAO,CACHG,MAAM,CAAEH,KAAK,CAACG,MADX,CAAP,CAGH,CAJD,CAMA,cAAeT,CAAAA,OAAO,CAAC2B,eAAD,CAAP,CAAyBvB,SAAzB,CAAf","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { FaEdit } from 'react-icons/fa'\nimport moment from 'moment'\n\nclass OrderList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            newOrder: false\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.orders.length == 1 + this.props.orders.length) {\n            this.setState({\n                newOrder: true\n            })\n            setTimeout(() => {\n                this.setState({\n                    newOrder: false\n                })\n            }, 10000)\n        }\n    }\n    render() {\n        return (\n            <div className=\"p-5\" >\n                <h4 className=\"pb-2\" >Total Orders - { this.props.orders.length }</h4>\n                {\n                    this.state.newOrder ? (\n                        <div class=\"alert alert-primary\" role=\"alert\">\n                            A new product is ordered just now.\n                        </div>\n                    ) : ''\n                }\n                <table className=\"table\">\n                    <thead className=\"bg-white\">\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Order</th>\n                            <th scope=\"col\">Date</th>\n                            <th scope=\"col\">Customer</th>\n                            <th scope=\"col\">Total</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        this.props.orders.map((order, index) => {\n                            return (\n                                    <tr key={order._id}>\n                                        <th scope=\"row\">{ index + 1 }</th>\n                                        <td>{ order.name }</td>\n                                        <td> { new Date(Date.parse(order.created_at)).toLocaleString() } </td>\n                                        <td>{ order.first_name + ' ' + order.last_name }\n                                            <Link to={`/customers/${order._id}`}><FaEdit className=\"ml-2\" /></Link>\n                                        </td>\n                                        <td>{ order.total_price.toFixed(2) }</td>\n                                    </tr>\n                            )\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        orders: state.orders\n    }\n}\n\nexport default connect(mapStateToProps)(OrderList)"]},"metadata":{},"sourceType":"module"}