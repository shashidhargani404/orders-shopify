{"ast":null,"code":"import _defineProperty from\"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/shash/web-dev/playground/heroku/moneymath_heroku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Google from'./GoogleLogin';import{Link}from'react-router-dom';import{connect}from'react-redux';import{setUser}from'../../actions/userAction';import{startSetIncomes}from'../../actions/incomeAction';import{startSetExpenses}from'../../actions/expenseAction';import{startSetBorrows}from'../../actions/borrowAction';import{startSetLends}from'../../actions/lendAction';import{startSetCategories}from'../../actions/categoryAction';import axios from'../../config/axios';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,email=_this$state.email,password=_this$state.password;var formData={email:email,password:password};axios.post('/login',formData).then(function(response){if(response.data.passwordError){_this.setState({error:response.data.passwordError});}else if(response.data.token){var _response$data=response.data,token=_response$data.token,user=_response$data.user;localStorage.setItem('x-auth-moneymath',token);_this.props.dispatch(setUser(user));_this.props.dispatch(startSetIncomes());_this.props.dispatch(startSetExpenses());_this.props.dispatch(startSetBorrows());_this.props.dispatch(startSetLends());_this.props.dispatch(startSetCategories());}}).catch(function(err){console.log(err);});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={email:'',password:'',error:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,error=_this$state2.error;return React.createElement(\"div\",{id:\"signup-main-div\",style:{paddingBottom:'25px',marginBottom:'150px'}},React.createElement(\"h1\",{id:\"signup-header\"},\"moneyMath\"),React.createElement(\"div\",{id:\"signup-form\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"input\",{placeholder:\"Email\",name:\"email\",value:this.state.email,onChange:this.handleChange}),React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",value:this.state.password,onChange:this.handleChange}),React.createElement(\"button\",{disabled:!email&&password.length<8,id:\"signup-submit-button\",type:\"submit\"},\"Log In\"))),error?React.createElement(\"p\",{style:{color:'red',fontSize:'13px',letterSpacing:'1px',width:'260px',lineHeight:'20px',marginBottom:'10px'}},error):'',React.createElement(Link,{id:\"signup-third-p\",style:{margin:'5px 0 10px',textDecoration:'none'},to:\"/\"},\"Forgot password?\"),React.createElement(\"p\",{id:\"signup-third-p\"},\"Don't have an account? \",React.createElement(Link,{to:\"/signup\",style:{textDecoration:'none'}},\"Sign up\")),React.createElement(\"div\",{id:\"signup-form-separater\",style:{margin:'0px 0 20px'}},React.createElement(\"hr\",null),React.createElement(\"p\",null,\"OR\"),React.createElement(\"hr\",null)),React.createElement(Google,null));}}]);return Login;}(React.Component);export default connect()(Login);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/moneymath_heroku/client/src/components/user/Login.js"],"names":["React","Google","Link","connect","setUser","startSetIncomes","startSetExpenses","startSetBorrows","startSetLends","startSetCategories","axios","Login","props","handleSubmit","e","preventDefault","state","email","password","formData","post","then","response","data","passwordError","setState","error","token","user","localStorage","setItem","dispatch","catch","err","console","log","handleChange","target","name","value","paddingBottom","marginBottom","length","color","fontSize","letterSpacing","width","lineHeight","margin","textDecoration","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Google from './GoogleLogin'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { setUser } from '../../actions/userAction'\nimport { startSetIncomes } from '../../actions/incomeAction'\nimport { startSetExpenses } from '../../actions/expenseAction'\nimport { startSetBorrows } from '../../actions/borrowAction'\nimport { startSetLends } from '../../actions/lendAction'\nimport { startSetCategories } from '../../actions/categoryAction'\nimport axios from '../../config/axios'\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n            error: ''\n        }\n    }\n    handleSubmit = e => {\n        e.preventDefault()\n\n        const { email, password } = this.state\n        const formData = { email, password }\n\n        axios.post('/login', formData)\n            .then((response) => {\n                if(response.data.passwordError) {\n                    this.setState({ error: response.data.passwordError })\n                } else if(response.data.token) {\n                    const { token, user } = response.data\n                    localStorage.setItem('x-auth-moneymath', token)\n                    this.props.dispatch(setUser(user))\n                    this.props.dispatch(startSetIncomes())\n                    this.props.dispatch(startSetExpenses())\n                    this.props.dispatch(startSetBorrows())\n                    this.props.dispatch(startSetLends())\n                    this.props.dispatch(startSetCategories())\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n    handleChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    render() {\n        const { email, password, error } = this.state\n        return (\n            <div id=\"signup-main-div\" style={{paddingBottom: '25px', marginBottom: '150px'}}>\n                <h1 id=\"signup-header\">moneyMath</h1>\n                <div id=\"signup-form\">\n                    <form onSubmit={this.handleSubmit}>\n                        <input placeholder=\"Email\" name=\"email\" value={this.state.email} onChange={this.handleChange} />\n                        <input type=\"password\" placeholder=\"Password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\n                        <button disabled={ !email && password.length < 8 } id=\"signup-submit-button\" type=\"submit\" >Log In</button>\n                    </form>\n                </div>\n                { error ? <p style={{ color: 'red', fontSize: '13px', letterSpacing: '1px', width: '260px', lineHeight: '20px', marginBottom: '10px' }} >{ error }</p> : '' }\n                <Link id=\"signup-third-p\" style={{margin: '5px 0 10px', textDecoration: 'none'}} to=\"/\">Forgot password?</Link>\n                <p id=\"signup-third-p\">Don't have an account? <Link to=\"/signup\" style={{textDecoration: 'none'}} >Sign up</Link></p>\n                <div id=\"signup-form-separater\" style={{margin: '0px 0 20px'}}>\n                    <hr/>\n                    <p>OR</p>\n                    <hr/>\n                </div>\n                <Google />\n            </div>\n        )\n    }\n}\n\nexport default connect()(Login)"]},"metadata":{},"sourceType":"module"}