{"ast":null,"code":"import _defineProperty from\"/home/shash/web-dev/playground/heroku/demo-money/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/shash/web-dev/playground/heroku/demo-money/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/shash/web-dev/playground/heroku/demo-money/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/shash/web-dev/playground/heroku/demo-money/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/shash/web-dev/playground/heroku/demo-money/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/shash/web-dev/playground/heroku/demo-money/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Google from'./GoogleLogin';import{Link}from'react-router-dom';import{setUser}from'../../actions/userAction';import axios from'../../config/axios';import{connect}from'react-redux';var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this,props));_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,email=_this$state.email,username=_this$state.username,password=_this$state.password;var emailValidater=/\\S+@\\S+\\.\\S+/;if(!emailValidater.test(email)&&!username&&!password){_this.setState({emailError:'* Invalid Email.',usernameError:'* Username requires 5 chars min.',passwordError:'* Password requires 8 chars min.'});}else if(!emailValidater.test(email)){_this.setState({emailError:'* Invalid Email.'});}else if(!username){_this.setState({usernameError:'* Username requires 5 chars min.'});}else if(!password){_this.setState({passwordError:'* Password requires 8 chars min.'});}else{var formData={email:email,username:username,password:password};axios.post('/register',formData).then(function(response){if(response.data.errmsg){_this.setState({emailError:'* Email already exist. Please login'});}else if(!response.data.errors){var _response$data=response.data,user=_response$data.user,token=_response$data.token;localStorage.setItem('x-auth',token);_this.props.dispatch(setUser(user));_this.props.history.push('/');}}).catch(function(err){console.log(err);});}};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={email:'',emailError:'',username:'',usernameError:'',fullName:'',password:'',passwordError:''};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this$state2=this.state,emailError=_this$state2.emailError,usernameError=_this$state2.usernameError,passwordError=_this$state2.passwordError;return React.createElement(\"div\",{id:\"signup-page\"},React.createElement(\"div\",{id:\"signup-main-div\"},React.createElement(\"h1\",{id:\"signup-header\"},\"moneyMath\"),React.createElement(\"p\",{id:\"signup-first-p\"},\"Sign up to do some Math on Money for better finance.\"),React.createElement(Google,null),React.createElement(\"div\",{id:\"signup-form-separater\"},React.createElement(\"hr\",null),React.createElement(\"p\",null,\"OR\"),React.createElement(\"hr\",null)),React.createElement(\"div\",{id:\"signup-form\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"input\",{placeholder:\"Email\",name:\"email\",value:this.state.mobile,onChange:this.handleChange}),this.state.emailError?React.createElement(\"p\",{style:{color:'red',fontSize:'13px',letterSpacing:'1px',textAlign:'left',width:'260px'}},\" \",emailError,\" \"):'',React.createElement(\"input\",{placeholder:\"Username\",name:\"username\",value:this.state.username,onChange:this.handleChange}),this.state.usernameError?React.createElement(\"p\",{style:{color:'red',fontSize:'13px',letterSpacing:'1px',textAlign:'left',width:'260px'}},\" \",usernameError,\" \"):'',React.createElement(\"input\",{disabled:true,style:{backgroundColor:'gray'},placeholder:\"Full Name\",name:\"fullName\",value:this.state.fullName,onChange:this.handleChange}),React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",value:this.state.password,onChange:this.handleChange}),this.state.passwordError?React.createElement(\"p\",{style:{color:'red',fontSize:'13px',letterSpacing:'1px',textAlign:'left',width:'260px'}},\" \",passwordError,\" \"):'',React.createElement(\"button\",{id:\"signup-submit-button\",type:\"submit\"},\"Sign Up\"))),React.createElement(\"p\",{id:\"signup-second-p\"},\"By signing up, you agree to our \",React.createElement(\"b\",null,\"Terms\"),\", \",React.createElement(\"b\",null,\"Data Policy\"),\" and \",React.createElement(\"b\",null,\"Cookies Policy\"),\".\"),React.createElement(\"p\",{id:\"signup-third-p\"},\"Have an account ? \",React.createElement(Link,{to:\"/\",style:{textDecoration:'none'}},\"Log In\"))));}}]);return Signup;}(React.Component);export default connect()(Signup);","map":{"version":3,"sources":["/home/shash/web-dev/playground/heroku/demo-money/client/src/components/user/Signup.js"],"names":["React","Google","Link","setUser","axios","connect","Signup","props","handleSubmit","e","preventDefault","state","email","username","password","emailValidater","test","setState","emailError","usernameError","passwordError","formData","post","then","response","data","errmsg","errors","user","token","localStorage","setItem","dispatch","history","push","catch","err","console","log","handleChange","target","name","value","fullName","mobile","color","fontSize","letterSpacing","textAlign","width","backgroundColor","textDecoration","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Google from './GoogleLogin'\nimport { Link } from 'react-router-dom'\nimport { setUser } from '../../actions/userAction'\nimport axios from '../../config/axios'\nimport { connect } from 'react-redux'\n\nclass Signup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: '',\n            emailError: '',\n            username: '',\n            usernameError: '',\n            fullName: '',\n            password: '',\n            passwordError: ''\n        }\n    }\n    handleSubmit = e => {\n        e.preventDefault()\n        const { email, username, password } = this.state\n        const emailValidater = /\\S+@\\S+\\.\\S+/\n        if(!emailValidater.test(email) && !username && !password) {\n            this.setState({ \n                emailError: '* Invalid Email.',\n                usernameError: '* Username requires 5 chars min.',\n                passwordError: '* Password requires 8 chars min.'\n            })\n        } else if(!emailValidater.test(email)) {\n            this.setState({ emailError: '* Invalid Email.' })\n        } else if(!username) {\n            this.setState({ usernameError: '* Username requires 5 chars min.' })\n        } else if(!password) {\n            this.setState({ passwordError: '* Password requires 8 chars min.' })\n        } else {\n            const formData = { email, username, password }\n\n            axios.post('/register', formData)\n                .then((response) => {\n                    if(response.data.errmsg) {\n                        this.setState({ emailError: '* Email already exist. Please login'})\n                    } else if (!response.data.errors) {\n                        const { user, token } = response.data\n                        localStorage.setItem('x-auth', token)\n                        this.props.dispatch(setUser(user))\n                        this.props.history.push('/')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    }\n    handleChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    render() {\n        const { emailError, usernameError, passwordError } = this.state\n        return (\n            <div id=\"signup-page\">\n                <div id=\"signup-main-div\">\n                    <h1 id=\"signup-header\">moneyMath</h1>\n                    <p id=\"signup-first-p\" >Sign up to do some Math on Money for better finance.</p>\n                    <Google />\n                    <div id=\"signup-form-separater\">\n                        <hr/>\n                        <p>OR</p>\n                        <hr/>\n                    </div>\n                    <div id=\"signup-form\">\n                        <form onSubmit={this.handleSubmit}>\n                            <input placeholder=\"Email\" name=\"email\" value={this.state.mobile} onChange={this.handleChange} />\n                            { this.state.emailError ? <p style={{ color: 'red', fontSize: '13px', letterSpacing: '1px', textAlign: 'left', width: '260px' }} > { emailError } </p> : '' }\n                            <input placeholder=\"Username\" name=\"username\" value={this.state.username} onChange={this.handleChange} />\n                            { this.state.usernameError ? <p style={{ color: 'red', fontSize: '13px', letterSpacing: '1px', textAlign: 'left', width: '260px' }} > { usernameError } </p> : '' }\n                            <input disabled style={{backgroundColor: 'gray'}} placeholder=\"Full Name\" name=\"fullName\" value={this.state.fullName} onChange={this.handleChange} />\n                            <input type=\"password\" placeholder=\"Password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\n                            { this.state.passwordError ? <p style={{ color: 'red', fontSize: '13px', letterSpacing: '1px', textAlign: 'left', width: '260px' }} > { passwordError } </p> : '' }\n                            <button id=\"signup-submit-button\" type=\"submit\" >Sign Up</button>\n                        </form>\n                    </div>\n                    <p id=\"signup-second-p\">By signing up, you agree to our <b>Terms</b>, <b>Data Policy</b> and <b>Cookies Policy</b>.</p>\n                    <p id=\"signup-third-p\">Have an account ? <Link to=\"/\" style={{textDecoration: 'none'}} >Log In</Link></p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect()(Signup)"]},"metadata":{},"sourceType":"module"}